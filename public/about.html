<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Asken Online - Om projektet</title>
  <style>
    :root {
      --bg-dark: #1a1a1a;
      --bg-card: #2a2a2a;
      --bg-felt: #2d5a4a;
      --text: #f0f0f0;
      --text-dim: #888;
      --accent: #c69e60;
      --red: #e05252;
      --green: #4caf50;
      --blue: #5a9fd4;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', system-ui, sans-serif;
      background: var(--bg-dark) url('gfx/bg_wood.webp') repeat;
      color: var(--text);
      min-height: 100vh;
      padding: 16px;
      line-height: 1.6;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
    }

    .card {
      background: var(--bg-card) url('gfx/bg_dark_steel.webp') repeat;
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    }

    .logo-container {
      text-align: center;
      margin-bottom: 16px;
    }

    .game-logo {
      max-width: 150px;
      height: auto;
    }

    h1 {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 8px;
      color: var(--accent);
    }

    .subtitle {
      text-align: center;
      color: var(--text-dim);
      margin-bottom: 24px;
      font-size: 1rem;
    }

    h2 {
      font-size: 1.3rem;
      margin-bottom: 16px;
      color: var(--accent);
      border-bottom: 1px solid #404040;
      padding-bottom: 8px;
    }

    h3 {
      font-size: 1.1rem;
      margin: 20px 0 12px 0;
      color: var(--text);
    }

    h4 {
      font-size: 1rem;
      margin: 16px 0 8px 0;
      color: var(--text-dim);
    }

    p {
      margin-bottom: 12px;
      color: var(--text);
    }

    ul, ol {
      margin-bottom: 16px;
      padding-left: 24px;
    }

    li {
      margin-bottom: 8px;
    }

    code {
      background: rgba(0,0,0,0.3);
      padding: 2px 6px;
      border-radius: 4px;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.9em;
      color: var(--accent);
    }

    pre {
      background: rgba(0,0,0,0.4);
      padding: 16px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 16px 0;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.85rem;
      line-height: 1.5;
    }

    pre code {
      background: none;
      padding: 0;
      color: var(--text);
    }

    .tech-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 12px;
      margin: 16px 0;
    }

    .tech-item {
      background: rgba(0,0,0,0.2);
      border-radius: 8px;
      padding: 16px;
      text-align: center;
    }

    .tech-item-icon {
      font-size: 2rem;
      margin-bottom: 8px;
    }

    .tech-item-name {
      font-weight: 600;
      color: var(--text);
      margin-bottom: 4px;
    }

    .tech-item-desc {
      font-size: 0.8rem;
      color: var(--text-dim);
    }

    .file-tree {
      background: rgba(0,0,0,0.3);
      padding: 16px;
      border-radius: 8px;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.85rem;
      margin: 16px 0;
    }

    .file-tree-item {
      margin: 4px 0;
      color: var(--text);
    }

    .file-tree-item.folder {
      color: var(--accent);
    }

    .file-tree-item.file {
      color: var(--text-dim);
    }

    .flow-diagram {
      background: rgba(0,0,0,0.2);
      border-radius: 8px;
      padding: 20px;
      margin: 16px 0;
      text-align: center;
    }

    .flow-box {
      display: inline-block;
      background: var(--bg-dark);
      border: 2px solid #505050;
      border-radius: 8px;
      padding: 12px 20px;
      margin: 8px;
      font-weight: 500;
    }

    .flow-box.client {
      border-color: var(--blue);
      color: var(--blue);
    }

    .flow-box.server {
      border-color: var(--green);
      color: var(--green);
    }

    .flow-box.database {
      border-color: var(--red);
      color: var(--red);
    }

    .flow-arrow {
      display: inline-block;
      color: var(--text-dim);
      margin: 0 8px;
    }

    .highlight {
      color: var(--accent);
      font-weight: 600;
    }

    .info-box {
      background: rgba(90, 159, 212, 0.1);
      border: 1px solid var(--blue);
      border-radius: 8px;
      padding: 16px;
      margin: 16px 0;
    }

    .info-box-title {
      font-weight: 600;
      color: var(--blue);
      margin-bottom: 8px;
    }

    .feature-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin: 16px 0;
    }

    .feature-item {
      background: rgba(0,0,0,0.2);
      border-radius: 8px;
      padding: 12px;
    }

    .feature-item-title {
      font-weight: 600;
      color: var(--accent);
      margin-bottom: 4px;
    }

    .feature-item-desc {
      font-size: 0.85rem;
      color: var(--text-dim);
    }

    .btn {
      display: block;
      width: 100%;
      padding: 14px;
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-family: inherit;
      text-decoration: none;
      text-align: center;
    }

    .btn-primary {
      background: var(--accent);
      color: var(--bg-dark);
    }

    .btn-primary:hover {
      background: #b08a50;
      transform: translateY(-2px);
    }

    .btn-row {
      display: flex;
      gap: 12px;
    }

    .btn-row .btn {
      flex: 1;
    }

    .toc {
      background: rgba(0,0,0,0.2);
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 20px;
    }

    .toc-title {
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--accent);
    }

    .toc ul {
      list-style: none;
      padding-left: 0;
      margin-bottom: 0;
    }

    .toc li {
      margin-bottom: 6px;
    }

    .toc a {
      color: var(--text);
      text-decoration: none;
      transition: color 0.2s;
    }

    .toc a:hover {
      color: var(--accent);
    }

    .version-info {
      text-align: center;
      color: var(--text-dim);
      font-size: 0.85rem;
      margin-top: 8px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
    }

    th, td {
      padding: 10px 12px;
      text-align: left;
      border-bottom: 1px solid #404040;
    }

    th {
      color: var(--accent);
      font-weight: 600;
    }

    @media (max-width: 600px) {
      .card {
        padding: 20px;
      }

      h1 {
        font-size: 1.5rem;
      }

      h2 {
        font-size: 1.1rem;
      }

      .btn-row {
        flex-direction: column;
      }

      .flow-diagram {
        font-size: 0.85rem;
      }

      .flow-box {
        display: block;
        margin: 8px auto;
      }

      .flow-arrow {
        display: block;
        transform: rotate(90deg);
        margin: 4px auto;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    
    <!-- Header -->
    <div class="card">
      <div class="logo-container">
        <img src="gfx/asken_logo.webp" alt="ASKEN" class="game-logo">
      </div>
      <h1>Om projektet</h1>
      <p class="subtitle">Teknisk dokumentation f√∂r Asken Online</p>
      
      <div class="toc">
        <div class="toc-title">Inneh√•ll</div>
        <ul>
          <li><a href="#oversikt">1. Projekt√∂versikt</a></li>
          <li><a href="#teknik">2. Teknisk stack</a></li>
          <li><a href="#arkitektur">3. Arkitektur</a></li>
          <li><a href="#filstruktur">4. Filstruktur</a></li>
          <li><a href="#klient">5. Klientsidan</a></li>
          <li><a href="#server">6. Serversidan</a></li>
          <li><a href="#realtid">7. Realtidskommunikation</a></li>
          <li><a href="#spellogik">8. Spellogik</a></li>
          <li><a href="#robot">9. Robot-AI</a></li>
          <li><a href="#deployment">10. Deployment</a></li>
        </ul>
      </div>
      
      <p class="version-info">Version 1.0 ‚Ä¢ December 2024</p>
    </div>

    <!-- Projekt√∂versikt -->
    <div class="card" id="oversikt">
      <h2>1. Projekt√∂versikt</h2>
      <p>
        <strong>Asken Online</strong> √§r en webbbaserad multiplayer-implementation av det klassiska 
        svenska kortspelet "Asken" (√§ven k√§nt som "Sjuan" eller "Fan"). Spelet l√•ter 3-7 spelare 
        t√§vla i realtid via webben, med st√∂d f√∂r robotspelare med anpassningsbar intelligens.
      </p>
      
      <h3>Huvudfunktioner</h3>
      <div class="feature-list">
        <div class="feature-item">
          <div class="feature-item-title">Multiplayer</div>
          <div class="feature-item-desc">3-7 spelare i realtid</div>
        </div>
        <div class="feature-item">
          <div class="feature-item-title">Robotspelare</div>
          <div class="feature-item-desc">3 sv√•righetsgrader</div>
        </div>
        <div class="feature-item">
          <div class="feature-item-title">Persistence</div>
          <div class="feature-item-desc">Redis-lagring 24h</div>
        </div>
        <div class="feature-item">
          <div class="feature-item-title">Responsiv</div>
          <div class="feature-item-desc">Mobil & desktop</div>
        </div>
        <div class="feature-item">
          <div class="feature-item-title">Inbjudningar</div>
          <div class="feature-item-desc">Delningsl√§nkar</div>
        </div>
        <div class="feature-item">
          <div class="feature-item-title">Spell√§gen</div>
          <div class="feature-item-desc">Snabb & Standard</div>
        </div>
      </div>
    </div>

    <!-- Teknisk stack -->
    <div class="card" id="teknik">
      <h2>2. Teknisk stack</h2>
      
      <div class="tech-grid">
        <div class="tech-item">
          <div class="tech-item-icon">üü¢</div>
          <div class="tech-item-name">Node.js</div>
          <div class="tech-item-desc">Runtime</div>
        </div>
        <div class="tech-item">
          <div class="tech-item-icon">‚ö°</div>
          <div class="tech-item-name">Express</div>
          <div class="tech-item-desc">Webbserver</div>
        </div>
        <div class="tech-item">
          <div class="tech-item-icon">üîå</div>
          <div class="tech-item-name">Socket.io</div>
          <div class="tech-item-desc">Websockets</div>
        </div>
        <div class="tech-item">
          <div class="tech-item-icon">üî¥</div>
          <div class="tech-item-name">Redis</div>
          <div class="tech-item-desc">Datalagring</div>
        </div>
        <div class="tech-item">
          <div class="tech-item-icon">üé®</div>
          <div class="tech-item-name">CSS3</div>
          <div class="tech-item-desc">Styling</div>
        </div>
        <div class="tech-item">
          <div class="tech-item-icon">üìú</div>
          <div class="tech-item-name">Vanilla JS</div>
          <div class="tech-item-desc">Klientlogik</div>
        </div>
      </div>

      <h3>Varf√∂r dessa tekniker?</h3>
      <ul>
        <li><strong>Node.js + Express:</strong> Snabb utveckling, JavaScript fullstack, bra websocket-st√∂d</li>
        <li><strong>Socket.io:</strong> Robust realtidskommunikation med automatisk reconnect och fallbacks</li>
        <li><strong>Redis:</strong> Snabb in-memory datalagring perfekt f√∂r spelstate, enkel TTL f√∂r auto-cleanup</li>
        <li><strong>Vanilla JS:</strong> Inget ramverk beh√∂vs f√∂r denna storlek, snabbare laddning</li>
      </ul>
    </div>

    <!-- Arkitektur -->
    <div class="card" id="arkitektur">
      <h2>3. Arkitektur</h2>
      
      <p>Applikationen f√∂ljer en klassisk klient-server-arkitektur med websocket-kommunikation:</p>
      
      <div class="flow-diagram">
        <div class="flow-box client">Webbl√§sare<br><small>HTML/CSS/JS</small></div>
        <span class="flow-arrow">‚ü∑</span>
        <div class="flow-box server">Node.js Server<br><small>Express + Socket.io</small></div>
        <span class="flow-arrow">‚ü∑</span>
        <div class="flow-box database">Redis<br><small>Speldata</small></div>
      </div>

      <h3>Kommunikationsfl√∂de</h3>
      <ol>
        <li>Klienten ansluter via Socket.io och f√•r ett unikt socket-ID</li>
        <li>Vid rumskapande genereras en 4-teckens kod och rummet sparas i Redis</li>
        <li>Alla spelare i rummet f√•r uppdateringar via <code>gameState</code>-events</li>
        <li>Servern validerar alla drag och uppdaterar Redis</li>
        <li>Redis TTL (24 timmar) rensar automatiskt inaktiva rum</li>
      </ol>

      <div class="info-box">
        <div class="info-box-title">‚ÑπÔ∏è Stateless server</div>
        <p style="margin-bottom: 0;">
          All speldata lagras i Redis, inte i serverns minne. Detta m√∂jligg√∂r 
          server-restart utan att f√∂rlora p√•g√•ende spel.
        </p>
      </div>
    </div>

    <!-- Filstruktur -->
    <div class="card" id="filstruktur">
      <h2>4. Filstruktur</h2>
      
      <div class="file-tree">
        <div class="file-tree-item folder">asken-online/</div>
        <div class="file-tree-item folder">&nbsp;&nbsp;‚îú‚îÄ‚îÄ server/</div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îî‚îÄ‚îÄ index.js &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: var(--text-dim);"># Huvudserver</span></div>
        <div class="file-tree-item folder">&nbsp;&nbsp;‚îú‚îÄ‚îÄ public/</div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ index.html &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: var(--text-dim);"># Huvudsida + spel</span></div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ manual.html &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: var(--text-dim);"># Spelregler</span></div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ about.html &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: var(--text-dim);"># Teknisk dok</span></div>
        <div class="file-tree-item folder">&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;‚îî‚îÄ‚îÄ gfx/</div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ asken_logo.webp</div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ bg_wood.webp</div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ bg_dark_steel.webp</div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îÇ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îî‚îÄ‚îÄ bg_tyg.webp</div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îú‚îÄ‚îÄ package.json</div>
        <div class="file-tree-item file">&nbsp;&nbsp;‚îî‚îÄ‚îÄ render.yaml &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: var(--text-dim);"># Deploy-config</span></div>
      </div>

      <h3>Filer i detalj</h3>
      <table>
        <tr>
          <th>Fil</th>
          <th>Storlek</th>
          <th>Beskrivning</th>
        </tr>
        <tr>
          <td><code>server/index.js</code></td>
          <td>~1300 rader</td>
          <td>Express-server, Socket.io-handlers, spellogik, robot-AI</td>
        </tr>
        <tr>
          <td><code>public/index.html</code></td>
          <td>~2200 rader</td>
          <td>All klientkod: HTML, CSS och JavaScript i en fil</td>
        </tr>
        <tr>
          <td><code>public/manual.html</code></td>
          <td>~500 rader</td>
          <td>Spelregler och instruktioner</td>
        </tr>
      </table>
    </div>

    <!-- Klientsidan -->
    <div class="card" id="klient">
      <h2>5. Klientsidan</h2>
      
      <p>
        Klienten √§r en <strong>Single Page Application (SPA)</strong> byggd med vanilla JavaScript. 
        Allt inneh√•ll (HTML, CSS, JS) finns i en enda fil f√∂r enkel deployment.
      </p>

      <h3>Sk√§rmar/vyer</h3>
      <ul>
        <li><strong>menuScreen:</strong> Startsk√§rm med namn-input och rum-join</li>
        <li><strong>lobbyScreen:</strong> V√§ntrum med spelarlista och inst√§llningar</li>
        <li><strong>gameScreen:</strong> Sj√§lva spelplanen med kort och spelare</li>
      </ul>

      <h3>State-hantering</h3>
      <pre><code>let gameState = {
  code: "A1B2",           // Rumskod
  players: [...],         // Spelararray
  tableau: {...},         // Spelplan per f√§rg
  currentPlayerIndex: 0,  // Vems tur
  roundNumber: 1,         // Aktuell runda
  // ... mer state
};</code></pre>

      <h3>CSS-arkitektur</h3>
      <ul>
        <li><strong>CSS Variables:</strong> F√§rger och tema definierade i <code>:root</code></li>
        <li><strong>Responsiv design:</strong> Flexbox och Grid med media queries</li>
        <li><strong>Bakgrundstexturer:</strong> Repeterande WebP-bilder f√∂r tr√§d/st√•l/tyg</li>
      </ul>
    </div>

    <!-- Serversidan -->
    <div class="card" id="server">
      <h2>6. Serversidan</h2>
      
      <h3>Express-setup</h3>
      <pre><code>const express = require('express');
const http = require('http');
const { Server } = require('socket.io');
const Redis = require('ioredis');

const app = express();
app.use(express.static('public'));

const server = http.createServer(app);
const io = new Server(server);</code></pre>

      <h3>Redis-integration</h3>
      <pre><code>// Spara rum med 24h TTL
async function saveRoom(room) {
  await redis.setex(
    `room:${room.code}`, 
    86400,  // 24 timmar
    JSON.stringify(room)
  );
}

// H√§mta rum
async function getRoom(code) {
  const data = await redis.get(`room:${code}`);
  return data ? JSON.parse(data) : null;
}</code></pre>

      <h3>Huvudsakliga Socket-events</h3>
      <table>
        <tr>
          <th>Event</th>
          <th>Riktning</th>
          <th>Beskrivning</th>
        </tr>
        <tr>
          <td><code>createRoom</code></td>
          <td>Klient ‚Üí Server</td>
          <td>Skapa nytt spelrum</td>
        </tr>
        <tr>
          <td><code>joinRoom</code></td>
          <td>Klient ‚Üí Server</td>
          <td>G√• med i rum</td>
        </tr>
        <tr>
          <td><code>startGame</code></td>
          <td>Klient ‚Üí Server</td>
          <td>Starta spelet</td>
        </tr>
        <tr>
          <td><code>playCards</code></td>
          <td>Klient ‚Üí Server</td>
          <td>Spela kort</td>
        </tr>
        <tr>
          <td><code>pass</code></td>
          <td>Klient ‚Üí Server</td>
          <td>Passa (ta asken)</td>
        </tr>
        <tr>
          <td><code>gameState</code></td>
          <td>Server ‚Üí Klient</td>
          <td>Uppdatera spelstate</td>
        </tr>
        <tr>
          <td><code>error</code></td>
          <td>Server ‚Üí Klient</td>
          <td>Felmeddelande</td>
        </tr>
      </table>
    </div>

    <!-- Realtidskommunikation -->
    <div class="card" id="realtid">
      <h2>7. Realtidskommunikation</h2>
      
      <p>
        Socket.io hanterar all realtidskommunikation mellan klient och server. 
        Varje spelare har en unik socket-anslutning som identifierar dem.
      </p>

      <h3>Anslutningshantering</h3>
      <pre><code>io.on('connection', (socket) => {
  console.log('Spelare ansluten:', socket.id);
  
  socket.on('disconnect', async () => {
    // Hantera fr√•nkoppling
    // Markera spelare som disconnected
    // Avsluta spel om n√∂dv√§ndigt
  });
});</code></pre>

      <h3>State-synkronisering</h3>
      <p>
        Varje g√•ng spelstate √§ndras skickas en personlig <code>gameState</code> till varje spelare. 
        Varje spelare ser bara sina egna kort, medan motst√•ndares kort visas som baksidor.
      </p>

      <pre><code>function emitRoomStateToAll(room) {
  for (const player of room.players) {
    const state = {
      ...roomData,
      myId: player.id,
      players: room.players.map(p => ({
        ...p,
        hand: p.id === player.id ? p.hand : null,
        cardCount: p.hand.length
      }))
    };
    socket.emit('gameState', state);
  }
}</code></pre>

      <h3>Keepalive</h3>
      <p>
        Klienten skickar regelbundna <code>keepalive</code>-meddelanden f√∂r att 
        uppdatera <code>lastActivity</code> i rummet och f√∂rhindra timeout.
      </p>
    </div>

    <!-- Spellogik -->
    <div class="card" id="spellogik">
      <h2>8. Spellogik</h2>

      <h3>Kortrepresentation</h3>
      <pre><code>const card = {
  id: "hearts-7",      // Unikt ID
  suit: "hearts",      // F√§rg
  rank: 7              // V√§rde 1-13
};</code></pre>

      <h3>Tableau (spelplan)</h3>
      <pre><code>const tableau = {
  spades:   { low: 5, high: 9 },   // 5-6-7-8-9
  hearts:   { low: 7, high: 7 },   // Bara 7:an
  diamonds: { low: 3, high: 10 },  // 3 till 10
  clubs:    null                    // Ej startad
};</code></pre>

      <h3>Validering av drag</h3>
      <pre><code>function canPlayCard(card, tableau) {
  const row = tableau[card.suit];
  
  // Om f√§rgen ej startad: bara 7:an
  if (!row) return card.rank === 7;
  
  // Annars: ett steg upp eller ner
  return card.rank === row.low - 1 
      || card.rank === row.high + 1;
}</code></pre>

      <h3>Po√§ngber√§kning</h3>
      <pre><code>function getCardPoints(card) {
  if (card.rank === 1) return 25;        // Ess
  if (card.rank >= 10) return 10;        // 10, Kn, D, K
  return 5;                               // 2-9
}

// Asken-bonus: +50 po√§ng</code></pre>

      <h3>Rundslut</h3>
      <p>En runda slutar n√§r en spelare blir av med alla sina kort. D√•:</p>
      <ol>
        <li>Ber√§kna po√§ng f√∂r kvarvarande kort p√• alla h√§nder</li>
        <li>L√§gg till +50 f√∂r den som har asken</li>
        <li>Uppdatera totalpo√§ng</li>
        <li>Kolla om n√•gon n√•tt 500 (standardspel)</li>
        <li>Visa resultatmodal</li>
      </ol>
    </div>

    <!-- Robot-AI -->
    <div class="card" id="robot">
      <h2>9. Robot-AI</h2>
      
      <p>
        Robotspelare implementeras helt p√• serversidan. N√§r det √§r en robots tur 
        k√∂rs <code>executeBotTurn()</code> efter en kort f√∂rdr√∂jning f√∂r naturligt fl√∂de.
      </p>

      <h3>Sv√•righetsgrader</h3>
      
      <h4>ü§ñ Dum</h4>
      <p>Spelar ett slumpm√§ssigt giltigt kort. Ingen strategi.</p>
      <pre><code>// V√§lj slumpm√§ssigt bland spelbara kort
const randomCard = playableCards[
  Math.floor(Math.random() * playableCards.length)
];</code></pre>

      <h4>ü§ñ Medel</h4>
      <p>Prioriterar att spela m√•nga kort och bli av med h√∂ga po√§ng.</p>
      <pre><code>// Po√§ngs√§tt sekvenser
const score = sequence.length * 100 + totalPoints;</code></pre>

      <h4>ü§ñ Smart</h4>
      <p>Avancerad strategi med flera faktorer:</p>
      <ul>
        <li><strong>Fram√•tplanering:</strong> Simulerar hur spelplanen ser ut efter draget</li>
        <li><strong>Kedjeavslut:</strong> Bonus f√∂r att spela ess och kungar</li>
        <li><strong>Blockering:</strong> Undviker att √∂ppna upp f√∂r motst√•ndare</li>
        <li><strong>F√§rgt√∂mning:</strong> Bonus f√∂r att helt bli av med en f√§rg</li>
        <li><strong>Po√§ngfokus:</strong> Dubbel viktning p√• h√∂ga po√§ngkort</li>
      </ul>

      <pre><code>// Smart robot - utv√§rdera varje m√∂jligt drag
for (const seq of allSequences) {
  let score = 0;
  
  // Po√§ng f√∂r att bli av med kort
  score += getPoints(seq) * 2;
  
  // Bonus f√∂r m√•nga kort
  score += seq.length * 50;
  
  // Simulera framtida drag
  const newTableau = simulatePlay(seq);
  const futurePlayable = countPlayable(hand, newTableau);
  score += futurePlayable * 30;
  
  // Bonus f√∂r ess/kungar
  if (hasEdgeCards(seq)) score += 40;
  
  // V√§lj b√§sta draget
  if (score > bestScore) bestSequence = seq;
}</code></pre>
    </div>

    <!-- Deployment -->
    <div class="card" id="deployment">
      <h2>10. Deployment</h2>
      
      <p>
        Applikationen √§r deployad p√• <strong>Render</strong> med en extern 
        <strong>Redis-instans</strong> f√∂r datalagring.
      </p>

      <h3>Render-konfiguration</h3>
      <pre><code># render.yaml
services:
  - type: web
    name: asken-online
    runtime: node
    buildCommand: npm install
    startCommand: node server/index.js
    envVars:
      - key: REDIS_URL
        sync: false
      - key: NODE_ENV
        value: production</code></pre>

      <h3>Milj√∂variabler</h3>
      <table>
        <tr>
          <th>Variabel</th>
          <th>Beskrivning</th>
        </tr>
        <tr>
          <td><code>REDIS_URL</code></td>
          <td>Anslutningsstr√§ng till Redis-server</td>
        </tr>
        <tr>
          <td><code>PORT</code></td>
          <td>Port f√∂r webbservern (default: 3000)</td>
        </tr>
        <tr>
          <td><code>NODE_ENV</code></td>
          <td>production / development</td>
        </tr>
      </table>

      <h3>Auto-deploy</h3>
      <p>
        Render √§r konfigurerat f√∂r automatisk deploy vid push till 
        <code>main</code>-branchen p√• GitHub.
      </p>

      <div class="info-box">
        <div class="info-box-title">üîó L√§nkar</div>
        <ul style="margin-bottom: 0;">
          <li>Live: <a href="https://asken.pistol.se" style="color: var(--accent);">asken.pistol.se</a></li>
          <li>GitHub: <a href="https://github.com/PatrikPat/asken-online" style="color: var(--accent);">github.com/PatrikPat/asken-online</a></li>
        </ul>
      </div>
    </div>

    <!-- Footer med knappar -->
    <div class="card">
      <div class="btn-row">
        <a href="index.html" class="btn btn-primary">üéÆ Spela</a>
        <a href="manual.html" class="btn btn-primary">üìñ Spelregler</a>
      </div>
    </div>

  </div>
</body>
</html>
